<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.layout.StackPane?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="org.example.controller.GameController"
            prefWidth="1200" prefHeight="800"
            styleClass="game-view-root">

    <left>
        <StackPane alignment="CENTER">
            <VBox spacing="16" alignment="CENTER">
            <padding>
                <Insets top="20" right="10" bottom="20" left="12"/>
            </padding>

            <Label text="Your Team"
                   styleClass="ally-accent"
                   maxWidth="Infinity"
                   alignment="CENTER"
                   textAlignment="CENTER"
                   style="-fx-font-size: 18; -fx-font-weight: bold;"/>

            <Label text="Bans"
                   styleClass="ally-accent"
                   maxWidth="Infinity"
                   alignment="CENTER"
                   textAlignment="CENTER"
                   style="-fx-font-size: 14; -fx-font-weight: bold;"/>
            <FlowPane hgap="10" vgap="14" alignment="CENTER">
                <ImageView fx:id="allyBan1" fitWidth="48" fitHeight="48"/>
                <ImageView fx:id="allyBan2" fitWidth="48" fitHeight="48"/>
                <ImageView fx:id="allyBan3" fitWidth="48" fitHeight="48"/>
                <ImageView fx:id="allyBan4" fitWidth="48" fitHeight="48"/>
                <ImageView fx:id="allyBan5" fitWidth="48" fitHeight="48"/>
            </FlowPane>

            <Label text="Picks"
                   styleClass="ally-accent"
                   maxWidth="Infinity"
                   alignment="CENTER"
                   textAlignment="CENTER"
                   style="-fx-font-size: 14; -fx-font-weight: bold;"/>
            <VBox spacing="14" alignment="CENTER">
                <HBox spacing="10" alignment="CENTER">
                    <ImageView fx:id="allyPick1" fitWidth="78" fitHeight="78"/>
                    <HBox fx:id="allyRoleRow1" spacing="4" alignment="CENTER"/>
                </HBox>
                <HBox spacing="10" alignment="CENTER">
                    <ImageView fx:id="allyPick2" fitWidth="78" fitHeight="78"/>
                    <HBox fx:id="allyRoleRow2" spacing="4" alignment="CENTER"/>
                </HBox>
                <HBox spacing="10" alignment="CENTER">
                    <ImageView fx:id="allyPick3" fitWidth="78" fitHeight="78"/>
                    <HBox fx:id="allyRoleRow3" spacing="4" alignment="CENTER"/>
                </HBox>
                <HBox spacing="10" alignment="CENTER">
                    <ImageView fx:id="allyPick4" fitWidth="78" fitHeight="78"/>
                    <HBox fx:id="allyRoleRow4" spacing="4" alignment="CENTER"/>
                </HBox>
                <HBox spacing="10" alignment="CENTER">
                    <ImageView fx:id="allyPick5" fitWidth="78" fitHeight="78"/>
                    <HBox fx:id="allyRoleRow5" spacing="4" alignment="CENTER"/>
                </HBox>
            </VBox>
            </VBox>
        </StackPane>
    </left>

    <!-- CENTER: RECOMMENDED PICKS -->
    <center>
        <VBox spacing="12">
            <padding>
                <Insets top="20" right="12" bottom="20" left="12"/>
            </padding>

            <VBox fx:id="firstPickPrompt"
                  spacing="10"
                  alignment="CENTER"
                  styleClass="first-pick-prompt">
                <Label text="Who has first pick?"
                       styleClass="first-pick-label"
                       alignment="CENTER"
                       textAlignment="CENTER"
                       maxWidth="Infinity"/>
                <HBox spacing="12" alignment="CENTER">
                    <Button text="Your Team"
                            onAction="#onAllyFirstPickSelected"
                            styleClass="gold-hover-button"/>
                    <Button text="Enemy Team"
                            onAction="#onEnemyFirstPickSelected"
                            styleClass="gold-hover-button"/>
                </HBox>
            </VBox>

            <TextField fx:id="championFilterField"
                       promptText="Search champions..."
                       styleClass="champion-filter-field"
                       visible="false"
                       managed="false"/>
            <HBox fx:id="roleFilterBar"
                  spacing="8"
                  alignment="CENTER"
                  maxWidth="Infinity"
                  visible="false"
                  managed="false"
                  styleClass="role-filter-bar"/>

            <TableView fx:id="recommendedTable"
                       prefHeight="600"
                       VBox.vgrow="ALWAYS"
                       styleClass="recommendations-table">
                <columns>
                    <TableColumn fx:id="championCol" text="Champion" prefWidth="200"/>
                    <TableColumn fx:id="opCol" text="OP" prefWidth="80"/>
                    <TableColumn fx:id="synCol" text="SYN" prefWidth="80"/>
                    <TableColumn fx:id="coCol" text="CO" prefWidth="80"/>
                    <TableColumn fx:id="scoreCol" text="Score" prefWidth="160"/>
                </columns>
            </TableView>

            <HBox spacing="14" alignment="CENTER">
                <Button fx:id="finishBansButton" text="Finish Bans" onAction="#onFinishBans" styleClass="gold-hover-button"/>
                <Button text="Clear Selections" onAction="#onClearSelections" styleClass="gold-hover-button"/>
            </HBox>
            <Label fx:id="selectionStatusLabel"
                   text="Select a slot to begin."
                   alignment="CENTER"
                   textAlignment="CENTER"
                   maxWidth="Infinity"
                   styleClass="selection-status-label"/>
        </VBox>
    </center>

    <!-- RIGHT: ENEMY TEAM -->
    <right>
        <StackPane alignment="CENTER">
            <VBox spacing="16" alignment="CENTER">
            <padding>
                <Insets top="20" right="12" bottom="20" left="4"/>
            </padding>

            <Label text="Enemy Team"
                   styleClass="enemy-accent"
                   style="-fx-font-size: 18; -fx-font-weight: bold;"
                   alignment="CENTER" textAlignment="CENTER" maxWidth="Infinity"/>

            <Label text="Bans"
                   styleClass="enemy-accent"
                   style="-fx-font-size: 14; -fx-font-weight: bold;"
                   alignment="CENTER" textAlignment="CENTER" maxWidth="Infinity"/>
            <FlowPane hgap="10" vgap="14" alignment="CENTER">
                <ImageView fx:id="enemyBan1" fitWidth="48" fitHeight="48"/>
                <ImageView fx:id="enemyBan2" fitWidth="48" fitHeight="48"/>
                <ImageView fx:id="enemyBan3" fitWidth="48" fitHeight="48"/>
                <ImageView fx:id="enemyBan4" fitWidth="48" fitHeight="48"/>
                <ImageView fx:id="enemyBan5" fitWidth="48" fitHeight="48"/>
            </FlowPane>

            <Label text="Picks"
                   styleClass="enemy-accent"
                   style="-fx-font-size: 14; -fx-font-weight: bold;"
                   alignment="CENTER" textAlignment="CENTER" maxWidth="Infinity"/>
            <VBox spacing="14" alignment="CENTER">
                <HBox spacing="10" alignment="CENTER">
                    <HBox fx:id="enemyRoleRow1" spacing="4" alignment="CENTER"/>
                    <ImageView fx:id="enemyPick1" fitWidth="78" fitHeight="78"/>
                </HBox>
                <HBox spacing="10" alignment="CENTER">
                    <HBox fx:id="enemyRoleRow2" spacing="4" alignment="CENTER"/>
                    <ImageView fx:id="enemyPick2" fitWidth="78" fitHeight="78"/>
                </HBox>
                <HBox spacing="10" alignment="CENTER">
                    <HBox fx:id="enemyRoleRow3" spacing="4" alignment="CENTER"/>
                    <ImageView fx:id="enemyPick3" fitWidth="78" fitHeight="78"/>
                </HBox>
                <HBox spacing="10" alignment="CENTER">
                    <HBox fx:id="enemyRoleRow4" spacing="4" alignment="CENTER"/>
                    <ImageView fx:id="enemyPick4" fitWidth="78" fitHeight="78"/>
                </HBox>
                <HBox spacing="10" alignment="CENTER">
                    <HBox fx:id="enemyRoleRow5" spacing="4" alignment="CENTER"/>
                    <ImageView fx:id="enemyPick5" fitWidth="78" fitHeight="78"/>
                </HBox>
            </VBox>
            </VBox>
        </StackPane>
    </right>

</BorderPane>
